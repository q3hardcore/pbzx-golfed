import java.io.*;class a{public static void main(String[]a)throws Exception{InputStream b=new FileInputStream(a[0]),c;DataInput d=new DataInputStream(b);d.readInt();d.readLong();OutputStream e=new FileOutputStream(a[1]);long f;for(int g=8192,h;;){try{f=d.readLong();}catch(Exception i){break;}c=d.readLong()==f?b:new org.tukaani.xz.SingleXZInputStream(b);for(byte[]i=new byte[g];f>0;f-=h)e.write(i,0,h=c.read(i,0,f<g?(int)f:g));if(c!=b)c.read();}}}
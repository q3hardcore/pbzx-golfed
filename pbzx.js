q=require;with(q('fs'))p=openSync,r=h=>readSync(i,b,0,h),w=write;[,,x,y]=process.argv;B=j=>(b=new Buffer(j),r(j));i=p(x,'r');B(12);o=p(y,'w');u=_=>b.readUIntBE(0,8);n=_=>B(8)&&(l=u(),r(8),B(m=u()),l>m?q('lzma-native').decompress(b,s=>w(o,s,0,l,n)):w(o,b,0,m,n));n()